<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unitess Gallery - 26 Patterns</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="gallery-viewport">
        <div id="gallery-container">
            <!-- Master Block -->
            <div class="master-block">
                <div class="master-square" id="master-square">
                    <canvas id="master-canvas"></canvas>
                </div>

                <!-- Floating Clear Button on Square -->
                <button id="floating-clear" title="Clear Canvas">‚úï</button>
            </div>

            <!-- Mini Grids will be injected here (26 total) -->
        </div>

        <div id="side-menu" class="hidden">
            <div class="menu-content">
                <div class="menu-header">
                    <h2 data-i18n="menu_settings">Settings</h2>
                    <div class="header-actions">
                        <select id="lang-select">
                            <option value="ko">KO</option>
                            <option value="en">EN</option>
                        </select>
                        <button id="close-menu">‚úï</button>
                    </div>
                </div>

                <div class="menu-section">
                    <h3 data-i18n="menu_modes">System Modes</h3>
                    <div class="modes-grid">
                        <button class="mode-card active" data-mode="square">
                            <div class="mode-icon square-icon"></div>
                            <span data-i18n="mode_square">Square</span>
                        </button>
                        <button class="mode-card" data-mode="triangle">
                            <div class="mode-icon triangle-icon"></div>
                            <span data-i18n="mode_triangle">Triangle</span>
                        </button>
                        <button class="mode-card" data-mode="hexagon">
                            <div class="mode-icon hexagon-icon"></div>
                            <span data-i18n="mode_hexagon">Hexagon</span>
                        </button>
                        <button class="mode-card" data-mode="quiz">
                            <div class="mode-icon quiz-icon">?</div>
                            <span data-i18n="mode_quiz">Quiz</span>
                        </button>
                        <button class="mode-card" data-mode="learn">
                            <div class="mode-icon learn-icon">üìö</div>
                            <span data-i18n="mode_learn">Learn</span>
                        </button>
                    </div>
                </div>

                <div class="menu-section">
                    <h3 data-i18n="menu_stroke">Stroke Style</h3>
                    <div class="control-group">
                        <label data-i18n="label_width">Width</label>
                        <input type="range" id="lineWidth" min="1" max="10" value="2">
                    </div>
                    <div class="control-group">
                        <label data-i18n="label_color">Color (Master)</label>
                        <input type="color" id="strokeColor" value="#ff0000">
                    </div>
                </div>

                <div class="menu-section">
                    <h3 data-i18n="menu_appearance">Appearance</h3>
                    <div class="control-group">
                        <label data-i18n="label_tile_bg">Tile Background</label>
                        <input type="color" id="tileBgColor" value="#ffffff">
                    </div>
                </div>

                <div class="menu-section">
                    <h3 data-i18n="menu_view">View</h3>
                    <button class="menu-btn" id="reset-view" data-i18n="btn_reset_view">Reset View</button>
                    <button class="menu-btn" id="toggle-grid" data-i18n="btn_toggle_labels">Toggle Grid Labels</button>
                    <button class="menu-btn" id="toggle-canvas-grid" data-i18n="btn_toggle_canvas_grid">Toggle Canvas
                        Grid</button>
                </div>

                <div class="menu-section">
                    <h3 data-i18n="menu_actions">Actions</h3>
                    <button class="menu-btn primary" id="save-btn" data-i18n="btn_save_image">Save Image</button>
                </div>
            </div>
        </div>

        <button id="chat-toggle">üí¨</button>
        <button id="menu-toggle">‚ò∞</button>

        <!-- Chat Panel -->
        <div id="chat-panel" class="chat-hidden">
            <div class="chat-header">
                <h2 data-i18n="chat_title">Community</h2>
                <button id="close-chat">‚úï</button>
            </div>
            <div id="chat-messages">
                <!-- Messages will be injected here -->
            </div>
            <div class="chat-input-area">
                <button id="share-canvas" title="Share drawing">üñºÔ∏è</button>
                <input type="text" id="chat-input" placeholder="Type a message..."
                    data-i18n-placeholder="chat_placeholder">
                <button id="send-chat">‚Üë</button>
            </div>
        </div>

        <!-- Learn Mode Overlay -->
        <div id="learn-mode-overlay" class="mode-overlay hidden">
            <div class="learn-header">
                <div class="header-left">
                    <h1 data-i18n="mode_learn">Learn</h1>
                    <button id="show-general-explain" class="explain-guide-btn" data-i18n="btn_show_guide">ÏÑ§Î™Ö
                        (Guide)</button>
                </div>
                <button id="exit-learn" class="exit-btn">‚úï</button>
            </div>
            <div class="learn-content">
                <!-- Left: Master Drawing Area -->
                <div class="learn-master-area">
                    <h3 class="learn-area-label">ÏõêÎ≥∏ (Original)</h3>
                    <div class="learn-canvas-container">
                        <canvas id="learn-master-canvas"></canvas>
                        <button id="learn-clear" class="learn-floating-clear" title="Clear Canvas">‚úï</button>
                        <div class="learn-pattern-id" id="current-pattern-id">1</div>
                    </div>
                </div>

                <!-- Center: 3x3 Preview Grid -->
                <div class="learn-preview-area">
                    <div class="preview-3x3" id="preview-grid-3x3">
                        <!-- 9 tiles will be injected here -->
                    </div>
                </div>

                <!-- Right: Pattern Selections (Matching Image Groups) -->
                <div class="learn-selector-area">
                    <div class="selector-columns">
                        <!-- Basic Groups -->
                        <div class="selector-group">
                            <div class="group-header">TTTT & CCCC</div>
                            <div class="btn-group">
                                <button class="rule-btn active" data-id="1">TTTT</button>
                                <button class="info-btn" data-id="1">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="2">CCCC</button>
                                <button class="info-btn" data-id="2">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">C3C1C3C1</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="3">C3C1C3C1-A</button>
                                <button class="info-btn" data-id="3">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="4">C3C1C3C1-B</button>
                                <button class="info-btn" data-id="4">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">TCTC</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="11">TCTC-A</button>
                                <button class="info-btn" data-id="11">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="12">TCTC-B</button>
                                <button class="info-btn" data-id="12">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">XYXY</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="5">XYXY-A</button>
                                <button class="info-btn" data-id="5">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="6">XYXY-B</button>
                                <button class="info-btn" data-id="6">‚ìò</button>
                            </div>
                        </div>

                        <!-- Complex Groups -->
                        <div class="selector-group">
                            <div class="group-header">CGCG</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="13">CGCG (0 y)</button>
                                <button class="info-btn" data-id="13">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="14">CGCG (0 x)</button>
                                <button class="info-btn" data-id="14">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="15">CGCG (90 x)</button>
                                <button class="info-btn" data-id="15">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="16">CGCG (90 y)</button>
                                <button class="info-btn" data-id="16">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">GGGG</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="7">GGGG y=x</button>
                                <button class="info-btn" data-id="7">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="8">GGGG y=-x</button>
                                <button class="info-btn" data-id="8">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="9">GGGG x</button>
                                <button class="info-btn" data-id="9">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="10">GGGG y</button>
                                <button class="info-btn" data-id="10">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">TGTG</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="21">TGTG y=-x</button>
                                <button class="info-btn" data-id="21">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="22">TGTG y=x</button>
                                <button class="info-btn" data-id="22">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="23">TGTG y</button>
                                <button class="info-btn" data-id="23">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="24">TGTG x</button>
                                <button class="info-btn" data-id="24">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="25">TGTG (90)x</button>
                                <button class="info-btn" data-id="25">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="26">TGTG (90)y</button>
                                <button class="info-btn" data-id="26">‚ìò</button>
                            </div>
                        </div>

                        <div class="selector-group">
                            <div class="group-header">CCGG</div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="17">CCGG-A</button>
                                <button class="info-btn" data-id="17">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="20">CCGG-B</button>
                                <button class="info-btn" data-id="20">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="18">CCGG-C</button>
                                <button class="info-btn" data-id="18">‚ìò</button>
                            </div>
                            <div class="btn-group">
                                <button class="rule-btn" data-id="19">CCGG-D</button>
                                <button class="info-btn" data-id="19">‚ìò</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Explanation Modal -->
        <div id="explanation-modal" class="modal-overlay hidden">
            <div class="modal-card">
                <button id="close-modal" class="modal-close">‚úï</button>
                <div class="modal-content" id="modal-content-area">
                    <h2 id="modal-title">Explanation Title</h2>
                    <div id="modal-body">
                        <!-- Content injected by JS -->
                    </div>
                </div>
            </div>
        </div>

        <script src="script.js"></script>
</body>

</html>